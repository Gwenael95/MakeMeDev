<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/Tools/token.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/Tools/token.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const jwt = require("jsonwebtoken");

/** @function
 * @name generateAccessToken
 * @param {object} userData - user's data
 * @returns {undefined|*}
 */
function generateAccessToken(userData) {
    if (userData["success"]!==null &amp;&amp; userData["success"]!==undefined) {
        return userData["token"] = jwt.sign(userData, process.env.TOKEN_SECRET, {expiresIn: '3600s'});
    }
}

module.exports  = {generateAccessToken}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addAuthorAddanauthorfieldinanobjectwithid,pseudoandavatar.">addAuthor
Add an author field in an object with id, pseudo and avatar.</a></li><li><a href="global.html#addCommentaryAddacommentarytoapostafteraddingauthoranddate.Thenweupdateusertosaveinhisactivitiesheaddacommentarytoapost.">addCommentary
Add a commentary to a post after adding author and date. Then we update user to save in his
activities he add a commentary to a post.</a></li><li><a href="global.html#addCommentarySendacommenttoaddtoapostinDB.">addCommentary
Send a comment to add to a post in DB.</a></li><li><a href="global.html#addDateAddaDatefieldinanobject.">addDate
Add a Date field in an object.</a></li><li><a href="global.html#addPostInsertanewpostindatabase,andreturntheresultofthistry">addPost
Insert a new post in database, and return the result of this try</a></li><li><a href="global.html#addPostResponseAddaresponsetoapost(withanewfunctionproposal)afteraddingauthoranddate.Thenweupdateusertosaveinhisactivitieshepostaresponse.">addPostResponse
Add a response to a post (with a new function proposal) after adding author and date.
Then we update user to save in his activities he post a response.</a></li><li><a href="global.html#addResponseSendaresponsetoaddtoapostinDB.">addResponse
Send a response to add to a post in DB.</a></li><li><a href="global.html#addUserCreateanewuser,thatwillbeaddindatabase">addUser
Create a new user, that will be add in database</a></li><li><a href="global.html#authenticateTokenCheckUser'stokenbeforeauthorizedsomecommunityfeatures,adduserfieldinreq.">authenticateToken
Check User's token before authorized some community features, add user field in req.</a></li><li><a href="global.html#closeUserUpdateActionThisfunctionisusedtocloseaction.Wegenerateanewtokenandreturnahttpcodestatusandbody">closeUserUpdateAction
This function is used to close action. We generate a new token
and return a http code status and body</a></li><li><a href="global.html#connectConnecttoDBfortestorproduction">connect
Connect to DB for test or production</a></li><li><a href="global.html#countOccurrencesFromArrayCountoccurrenceofstringinanarrayandreturnanobjectwitheachstringaskeyandoccurrenceasvalue">countOccurrencesFromArray
Count occurrence of string in an array and return an object
with each string as key and occurrence as value</a></li><li><a href="global.html#createCreateanewpost,thatwillbeaddindatabase.Weaddsomefield:paramsTypesandreturnsTypestohaveanobjectwithanumberofoccurrenceofeachparams.AlsocreationdateforpostItwillmakeitsimplertosearchpostdependingontheamountofparamsorreturnswithgetPostfunction.">create
Create a new post, that will be add in database.
We add some field : paramsTypes and returnsTypes to have an object with a number of occurrence of each params.
Also creation date for post
It will make it simpler to search post depending on the amount of params or returns with getPost function.</a></li><li><a href="global.html#database">database</a></li><li><a href="global.html#disconnect">disconnect</a></li><li><a href="global.html#emptyRequestCheckifourrequestdataisn'temptybeforecontinuingotheractions">emptyRequest
Check if our request data isn't empty before continuing other actions</a></li><li><a href="global.html#filterDelSpacesdeleteallspacesinastring">filterDelSpaces
delete all spaces in a string</a></li><li><a href="global.html#filterPasswordDeleteuserpassword,toavoidsecurityissues.ifweforgottoaddleantodeletepassword,weensuretoreturnauselessstring">filterPassword
Delete user password, to avoid security issues.
if we forgot to add lean to delete password, we ensure to return a useless string</a></li><li><a href="global.html#generateAccessToken">generateAccessToken</a></li><li><a href="global.html#getGetpostsdependingonarequestgetthankstoastringwithstricttypographytodemarcateeachfield,andifnotexistitwillnotbeacriteriatosearchatall.Structure:functionName(param1,param2,?)%257Breturned1,returned2%257D%2522functionDescription%2522%255Btag1,tag2,tag3%255DORuseapostidtogetthecorrespondingpost.">get
Get posts depending on a request get thanks to a string with strict typography to demarcate
each field, and if not exist it will not be a criteria to search at all.
Structure : functionName(param1, param2, ?){returned1, returned2}"functionDescription"[tag1, tag2, tag3]
OR use a post id to get the corresponding post.</a></li><li><a href="global.html#getDescriptionQueryGetaquerytosearchfunction'sdescriptioninDB">getDescriptionQuery
Get a query to search function's description in DB</a></li><li><a href="global.html#getHandlerHandleHTTPstatuscodeandbodycontenttoreturninaresponsetoFrontteamForGETrequest.">getHandler
Handle HTTP status code and body content to return in a response to Front team
For GET request.</a></li><li><a href="global.html#getHandlerForUserPostHandleHTTPstatuscodeandbodycontenttoreturninaresponsetoFrontteamForGETrequest">getHandlerForUserPost
Handle HTTP status code and body content to return in a response to Front team
For GET request</a></li><li><a href="global.html#getLastCommentaryIdGetlastcommentaryidforapostmatchingwithidinparams">getLastCommentaryId
Get last commentary id for a post matching with id in params</a></li><li><a href="global.html#getLastResponseIdgetlastresponseidfromaresultpostobject">getLastResponseId
get last response id from a result post object</a></li><li><a href="global.html#getMatchFromStringArrayCreatea$matchforadefinedfieldfromdatabasecontaininganarrayCheckifanotherarraycontainssomeorallelementsofthisDBfield">getMatchFromStringArray
Create a $match for a defined field from database containing an array
Check if another array contains some or all elements of this DB field</a></li><li><a href="global.html#getMatchStringRegexReturna$matchfilterforadefinedDBfield">getMatchStringRegex
Return a $match filter for a defined DB field</a></li><li><a href="global.html#getNameQueryGetaquerytosearchfunction'snameinDB">getNameQuery
Get a query to search function's name in DB</a></li><li><a href="global.html#getParamTypeQueryGetaquerytosearchfunctionparam'stypesinDB">getParamTypeQuery
Get a query to search function param's types in DB</a></li><li><a href="global.html#getPipelineGetacomplexPipelinetosearchallfunctiondependingondatasearchcriteria">getPipeline
Get a complex Pipeline to search all function depending on data search criteria</a></li><li><a href="global.html#getPost">getPost</a></li><li><a href="global.html#getPostByFunctionGetpostindatabasedependingonmanycriteria,andreturntheresultofthistry">getPostByFunction
Get post in database depending on many criteria, and return the result of this try</a></li><li><a href="global.html#getPostByIdGetpostindatabasedependingonpost'sId,andreturntheresultofthistry">getPostById
Get post in database depending on post's Id, and return the result of this try</a></li><li><a href="global.html#getReturnTypeQueryGetaquerytosearchfunctionreturn'stypesinDB">getReturnTypeQuery
Get a query to search function return's types in DB</a></li><li><a href="global.html#getSearchPostReturnthefirstoccurrencematchingwithregexinastringornullifanyfound">getSearchPost
Return the first occurrence matching with regex in a string or null if any found</a></li><li><a href="global.html#getSearchPostUsedtoreturnanobjectwithfunctionname,paramsandreturnstypes,descriptionandtagextractedfromastringthankstoregex.">getSearchPost
Used to return an object with function name, params and returns types, description and tag extracted
from a string thanks to regex.</a></li><li><a href="global.html#getSearchValueGetastringinadelimitedareadefinedbyadelimiterIfthereisonlyonedelimiter,returnnull">getSearchValue
Get a string in a delimited area defined by a delimiter
If there is only one delimiter, return null</a></li><li><a href="global.html#getStringDelimitedAreaGetastringinadelimitedareadefinedbyfirstandlastdelimiterIftheseconddelimiterisn'tfoundinstring,returnastringfromfirstdelimitertoend">getStringDelimitedArea
Get a string in a delimited area defined by first and last delimiter
If the second delimiter isn't found in string, return a string from first delimiter to end</a></li><li><a href="global.html#getTabParamOrReturnAcomplexfunction,usedtoprepareamongofilterforreturnsorparamstypes.">getTabParamOrReturn
A complex function, used to prepare a mongo filter for returns or params types.</a></li><li><a href="global.html#getTagQueryGetaquerytosearchallpost'stagsinDB">getTagQuery
Get a query to search all post's tags in DB</a></li><li><a href="global.html#getUserGetuser'sdataifauserwithcorrespondingpseudo/mailandpasswordexist.">getUser
Get user's data if a user with corresponding pseudo/mail and password exist.</a></li><li><a href="global.html#handleGetPostAllowtosearchpostbyidorwithseveralcriteriaextractedfromastring.">handleGetPost
Allow to search post by id or with several criteria extracted from a string.</a></li><li><a href="global.html#isDefinedAndNotNullCheckifourvaluedataisdefinedandnotnull">isDefinedAndNotNull
Check if our value data is defined and not null</a></li><li><a href="global.html#isUndefinedOrNullCheckifavalueisundefinedornull">isUndefinedOrNull
Check if a value is undefined or null</a></li><li><a href="global.html#mongoose">mongoose</a></li><li><a href="global.html#PORT">PORT</a></li><li><a href="global.html#PostModel">PostModel</a></li><li><a href="global.html#postSchema">postSchema</a></li><li><a href="global.html#pushPostResponseAddapostresponse.">pushPostResponse
Add a post response.</a></li><li><a href="global.html#pushPostResponseCommentaryAddapostcommentary.">pushPostResponseCommentary
Add a post commentary.</a></li><li><a href="global.html#rateLimiterConfig">rateLimiterConfig</a></li><li><a href="global.html#replaceAllCharReplaceallcharacterfromastringbyanotherone">replaceAllChar
Replace all character from a string by another one</a></li><li><a href="global.html#searchRegex">searchRegex</a></li><li><a href="global.html#sendPostSendaposttoaddindatabaseifourpostdataisn'tempty.">sendPost
Send a post to add in database if our post data isn't empty.</a></li><li><a href="global.html#sendVoteSendavotetolikeordislikeapostinDB.">sendVote
Send a vote to like or dislike a post in DB.</a></li><li><a href="global.html#setTypesAddaDatefieldinanobject.">setTypes
Add a Date field in an object.</a></li><li><a href="global.html#setUpdateValueDefineallkeystoset">setUpdateValue
Define all keys to set</a></li><li><a href="global.html#signIn">signIn</a></li><li><a href="global.html#signInCheckifuser'sdataareindatabaseandcheckifpasswordiscorrect,dependingonloginvalue,andreturntheresultofthistry.Logincouldbemailorpseudo.">signIn
Check if user's data are in database and check if password is correct,
depending on login value, and return the result of this try.
Login could be mail or pseudo.</a></li><li><a href="global.html#signUpAddanewuserindatabase,andreturntheresultofthistry">signUp
Add a new user in database, and return the result of this try</a></li><li><a href="global.html#signUpCreateanewaccountonourapp,savedinmongoDb">signUp
Create a new account on our app, saved in mongoDb</a></li><li><a href="global.html#sortAllPostByLikeSortpostarraybylike-dislikeindescendingorderforallpostfromaresponse.">sortAllPostByLike
Sort post array by like - dislike in descending order for all post from a response.</a></li><li><a href="global.html#sortPostByLikesSortpostarrayofanobjectbylike-dislikeindescendingorder.">sortPostByLikes
Sort post array of an object by like - dislike in descending order.</a></li><li><a href="global.html#truncate">truncate</a></li><li><a href="global.html#updateDbHandlerHandleHTTPstatuscodeandbodycontenttoreturninaresponsetoFrontteamForPOSTrequest(whenaddingadocument).">updateDbHandler
Handle HTTP status code and body content to return in a response to Front team
For POST request (when adding a document).</a></li><li><a href="global.html#updateFunctionSendafunctiontoupdateitinapostinDB.">updateFunction
Send a function to update it in a post in DB.</a></li><li><a href="global.html#updateFunctionUpdateafunctionfromapostorpostresponsethankstoitsid.">updateFunction
Update a function from a post or post response thanks to its id.</a></li><li><a href="global.html#updateLikeOrDislikeAddorupdatelike/dislikeforapost.startbycheckingifuseralreadyvoteforthispost.ifnotweincrementthelike/dislikecounter.else,ifitchangesismind(wanttochangealikebyadislike),wedecrementtheoldvoteandincreasethenewone.">updateLikeOrDislike
Add or update like/dislike for a post.
start by checking if user already vote for this post.
if not we increment the like/dislike counter.
else, if it changes is mind (want to change a like by a dislike), we decrement
the old vote and increase the new one.</a></li><li><a href="global.html#updatePostAgenericfunctionusedtoupdateapost.">updatePost
A generic function used to update a post.</a></li><li><a href="global.html#updatePostFunctionUpdateapostfunction.">updatePostFunction
Update a post function.</a></li><li><a href="global.html#updateUser">updateUser</a></li><li><a href="global.html#updateUserAgenericfunctionusedtoupdateauser.">updateUser
A generic function used to update a user.</a></li><li><a href="global.html#updateUserByIdUpdateuser'sdatadependingonhisIDandwantedfieldstoset">updateUserById
Update user's data depending on his ID and wanted fields to set</a></li><li><a href="global.html#updateVoteUsedtoaddorupdateavoteinDBforapost.Thenweupdateusertoknowifitalreadyhavelikeordislikeafunction.">updateVote
Used to add or update a vote in DB for a post. Then we update user to know if it already have
like or dislike a function.</a></li><li><a href="global.html#url">url</a></li><li><a href="global.html#userSchema">userSchema</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Thu Dec 17 2020 23:52:37 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
